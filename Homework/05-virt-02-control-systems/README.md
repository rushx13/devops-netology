# Домашнее задание к занятию "5.2. Системы управления виртуализацией"

## Задача 1 

Выберете подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

- 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований  
Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий 
```
Ответ:
В данной задачи мы мы можем использовать либо Microsoft Hyper-v, либо продукт VMWare vSphere.
Я сделаю свой выбор в пользу Hyper-V, так как поддерживает все, что нам необходимо и имеет хорошую совместимость с Windows based инфраструктурой.
В любом случае нужно сравнивать стоимость лицензирования с vSphere и смотреть какое решение будет для нас более выгодным и покроет все потребности.

```
- Требуется наиболее производительное бесплатное opensource решение для виртуализации небольшой (20 серверов) инфраструктуры Linux и Windows виртуальных машин
```  
Ответ:
Выбираем решение KVM, так как наиболее производительное и покрывает наши потребности. 
```
- Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры 
```  
Ответ:
Для данной зачаи самым лучшим выбором будет бесплатный Microsoft Hyper-V Server, так как он максимально подходит под Windows инфраструктуру.
```
- Необходимо рабочее окружение для тестирование программного продукта на нескольких дистрибутивах Linux
```  
Ответ:
Тут мы можем воспользоваться Virtual box и Vagrant, как самый простой и быстрый вариант.
```
## Задача 2

Опишите сценарий миграции с VMware vSphere на Hyper-V для Linux и Windows виртуальных машин. Детально опишите необходимые шаги для использования всех преимуществ Hyper-V для Windows.
```  
Ответ:
```
Так как у меня нет реального опыта, то судя по информации из статей есть следующие варианты (https://docs.microsoft.com/ru-ru/system-center/vmm/vm-convert-vmware?view=sc-vmm-2019)

Есть два способа преобразования виртуальных машин VMWare в узлы Hyper-V.

- Мастер преобразования виртуальных машин. Этот мастер можно использовать в консоли VMM. Этот метод имеет ряд ограничений.
- Microsoft Virtual Machine Converter. Это автономное средство преобразует виртуальные машины VMware в узлы Hyper-V или виртуальные машины Azure. 
Оно также преобразует физические компьютеры и диски в узлы Hyper-V.

Так же, нашел, что есть и другие сторонние решения: StarWind V2V Converter и 5nine V2V Easy Converter (https://club.directum.ru/post/129249):

- StarWind V2V Converter позволяет конвертировать виртуальные жесткие диски форматов: vmdk (формат виртуальных жестких дисков VMware), 
vhd и vhdx (формат виртуальных жестких дисков Hyper-V) и формат img для поддержки продукта StarWind Virtual SAN™. 
Интерфейс программы и процесс использования предельно просты. Имеется визард, который проведет вас по всему процессу конвертации. 
Одной из особенностей работы программы является возможность после конвертации включить Windows Repair Mode. 
Это позволит системе автоматически адаптироваться к внесенным изменениям со стороны гипервизора. 
Так же стоит отметить что конвертация происходит в любом направлении.

- 5nine V2V Easy Converter отличается принципом работы. Он позволяет выполнять почти "живую" миграцию. 
Интерфейс так же прост и не должен вызывать затруднений. Для начала работы необходимо указать параметры подключения к серверу VMware. 
После подключения будет представлен список виртуальных машин, доступных для переноса. 
На следующем шаге необходимо указать параметры подключения к серверу Hyper-V, выделить на нем ресурсы переносимой виртуальной машине и начать процесс переноса. 
Этот программный продукт не позволит вам конвертировать непосредственно сам виртуальный жесткий диск, 
он позволит мигрировать виртуальную машину из одного гипервизора в другой.


## Задача 3 

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был бы выбор, то создавали ли вы бы гетерогенную среду или нет? Мотивируйте ваш ответ примерами. 

```  
Ответ:

Как мы уже заметили из информации выше, при необходимости переноса (миграции) наших виртуальных машин из одной среды виртуализации в другую вызывает ряд сложностей.
В связи с этим у нас увиличивается как административная и операционная нагрузка (невозможность репликации, сложности мониторинга) на поддержку разных сред, 
так и финансовые затраты на поддержку разных инфраструктур. Выбор зависит от поставленной задачи.

Использовать гетерогенной среды стоит только в том случае, когда в этом есть явная необходимость и затраты на содержание и администрирование оправданы.

```
